<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>é­”ä»™å ¡</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="æ¸©æ•…è€ŒçŸ¥æ–°"/>
<meta name="keywords" content="æ¸©æ•…è€ŒçŸ¥æ–°"/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://2523615279.github.io//favicon.ico">

<link rel="stylesheet" href="https://2523615279.github.io//styles/main.css">

<!-- Modernizr JS -->
<script src="https://2523615279.github.io//media/scripts/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://2523615279.github.io//media/scripts/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->



<!-- katex -->
<!--<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet">-->

<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">



</head>
<body>
    <div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://2523615279.github.io//images/avatar.png" alt="é­”ä»™å ¡"
                 class="img-responsive">
        </figure>
        <a href="https://2523615279.github.io//post/about/"><h3 class="heading">ABOUT ME</h3></a>
        <h2>é­”ä»™å ¡</h2>
        <p>æ¸©æ•…è€ŒçŸ¥æ–°</p>
        <ul class="fh5co-social">
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">

        <!-- æ ‡ç­¾ -->
        <div class="fh5co-box">
            <a href="https://2523615279.github.io//tags/"><h3 class="heading">ğŸ‘‰æ ‡ç­¾</h3></a>
            <ul>
                
                    <li><a href="https://2523615279.github.io/tag/4pHBltHIg/">æŠ€æœ¯</a></li>
                
                    <li><a href="https://2523615279.github.io/tag/_kUh3_weP/">è–…ç¾Šæ¯›</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                        
                        >
                            é¦–é¡µ
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives"
                        
                        >
                            å½’æ¡£
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                        
                        >
                            æ ‡ç­¾
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/about"
                        
                        >
                            å…³äº
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://2523615279.github.io/">é­”ä»™å ¡ </a>
                </h1>
            </div>
        </div>
    </div>
</header>


    <!--  <a href="#" class="fh5co-post-prev"><span>ğŸ‘ˆ Prev</span></a>-->
    <!--  <a href="#" class="fh5co-post-next"><span>Next ğŸ‘‰</span></a>-->

    <!-- ç­‰grideaå‡ºè‡ªå®šä¹‰é¡µé¢åŠŸèƒ½å†ä¼˜åŒ–ä¸€ä¸‹ -->
    
        <div class="container-fluid">
    <div class="row fh5co-post-entry single-entry">
        <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
            <figure class="animate-box">
                
                    <img src="https://pic.rmb.bdstatic.com/bjh/4c7e78765c68d872e85a38df87687e57.png" alt="CloudFlare Worker åä»£TGbot" class="img-responsive">
                
            </figure>
            <span class="fh5co-meta animate-box">
                
                    <div class="tag-container">
                        
                            <a href="https://2523615279.github.io/tag/4pHBltHIg/" class="tag">æŠ€æœ¯, </a>
                        
                    </div>
                
            </span>
            <h2 class="fh5co-article-title animate-box">CloudFlare Worker åä»£TGbot</h2>
            <ol class="breadcrumb fh5co-meta fh5co-date animate-box" style="margin-bottom:0; background-color:#f8f9fa">
                <li>2021-11-25</li>
                <li>489å­—</li>
                <li>3 min read</li>
            </ol>

            <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                <div class="row">
                    <div class="col-md-12 animate-box post-content">
                        <p> <h2 id="å¼€å§‹å‰çš„å‡†å¤‡">å¼€å§‹å‰çš„å‡†å¤‡</h2>
<blockquote>
<h3 id="ä¸€-æ³¨å†Œä¸€ä¸ªtgæœºå™¨äºº">ä¸€ã€æ³¨å†Œä¸€ä¸ªTGæœºå™¨äºº</h3>
<blockquote>
<p>1ã€åœ¨TGæœç´¢@BotFather</p>
<blockquote>
<img src="https://pic.rmb.bdstatic.com/bjh/940d2b7755daa351678dd00eccb6324c.png" alt="image.png" title="image.png" />
</blockquote>
<p>2ã€ç‚¹å‡»è¿›å»ï¼Œç‚¹å‡»å¼€å§‹</p>
<blockquote>
<img src="https://pic.rmb.bdstatic.com/bjh/733d06b91d7de266c57bb2d2d4d4ef41.png" alt="image.png" title="image.png" />
</blockquote>
<p>3ã€ç‚¹å‡»å³ä¸‹è§’çš„æ–œæ ï¼Œç‚¹å‡»newbot</p>
<blockquote>
<img src="https://pic.rmb.bdstatic.com/bjh/dcbccf03269709f34a9e52f5e140617f.png" alt="image.png" title="image.png" />
<img src="https://pic.rmb.bdstatic.com/bjh/9f85587f2343320b38191065562eef51.png" alt="image.png" title="image.png" />
</blockquote>
<p>4ã€ç‚¹å‡»è¿‡åå°±ä¼šè®©ä½ è¾“å…¥æœºå™¨äººçš„åå­—å’Œç”¨æ¥æŸ¥æ‰¾æœºå™¨äººçš„idï¼ˆåé¢é‚£ä¸ªåªèƒ½è¾“å…¥è‹±æ–‡)</p>
<blockquote>
<img src="https://pic.rmb.bdstatic.com/bjh/ec11f3be41d2bc5e58164ded1157bf2c.png" alt="image.png" title="image.png" />
<img src="https://pic.rmb.bdstatic.com/bjh/a1950c95fdc5f2ec626880224e124ba9.png" alt="image.png" title="image.png" />
è¿™ä¸ªbot tokenå¤åˆ¶å¥½ï¼Œåé¢è¦ç”¨åˆ°
</blockquote>
</blockquote>
</blockquote>
<h2 id="ä¸€-æ³¨å†Œcloudflare">ä¸€ã€æ³¨å†ŒCloudFlare</h2>
<blockquote>
<p>cloudflareå®˜ç½‘:<a href="https://www.cloudflare.com/zh-cn/">https://www.cloudflare.com/zh-cn/</a><br>
å¦‚æœä¸èƒ½æ‰“å¼€å®˜ç½‘çš„è¯ï¼Œè¯·æ‰“å¼€vpnç„¶åæ‰“å¼€å®˜ç½‘ã€‚</p>
</blockquote>
<h2 id="äºŒ-ç™»å½•å¯ç”¨cloudflare-worker">äºŒã€ç™»å½•å¯ç”¨CloudFlare Worker</h2>
<blockquote>
<h3 id="1-ç™»å½•cloudflareååœ¨å·¦ä¸Šè§’ä¸‹æ‹‰èœå•ä¸­æ‰¾åˆ°-workers">1ã€ç™»å½•cloudflareåï¼Œåœ¨å·¦ä¸Šè§’ä¸‹æ‹‰èœå•ä¸­æ‰¾åˆ° workersã€‚</h3>
<blockquote>
<img src="https://pic.rmb.bdstatic.com/bjh/7eeb721360b30fe78a7f05e18d6c6076.png" alt="image.png" title="image.png" />
</blockquote>
</blockquote>
<blockquote>
<h3 id="2-è®¾ç½®ä¸€ä¸ªè‡ªå®šä¹‰çš„å­åŸŸ">2ã€è®¾ç½®ä¸€ä¸ªè‡ªå®šä¹‰çš„å­åŸŸ</h3>
<blockquote>
<img src="https://pic.rmb.bdstatic.com/bjh/48ec9eb745a6fd3fa31d6469ea92b369.png" alt="image.png" title="image.png" />
</blockquote>
</blockquote>
<blockquote>
<h3 id="3-æ ¹æ®è‡ªèº«æƒ…å†µé€‰æ‹©åˆé€‚çš„è®¡åˆ’æˆ‘è¿™è¾¹å…è´¹çš„å°±å¤Ÿç”¨äº†">3ã€æ ¹æ®è‡ªèº«æƒ…å†µé€‰æ‹©åˆé€‚çš„è®¡åˆ’ï¼Œæˆ‘è¿™è¾¹å…è´¹çš„å°±å¤Ÿç”¨äº†ã€‚</h3>
<blockquote>
<img src="https://pic.rmb.bdstatic.com/bjh/d85d72e2fa0aa7d9f26cf012f4e718da.png" alt="image.png" title="image.png" />
</blockquote>
</blockquote>
<h2 id="ä¸‰-é…ç½®worker">ä¸‰ã€é…ç½®worker</h2>
<blockquote>
<h3 id="1-ç‚¹å‡»ç¡®è®¤è®¡åˆ’åå³å¯è¿›å…¥cfçš„workersåå°ç‚¹å‡»-åˆ›å»ºworker-æŒ‰é’®æ–°å»ºä¸€ä¸ªworker">1ã€ç‚¹å‡»ç¡®è®¤è®¡åˆ’åï¼Œå³å¯è¿›å…¥cfçš„workersåå°ï¼Œç‚¹å‡» åˆ›å»ºworker æŒ‰é’®ï¼Œæ–°å»ºä¸€ä¸ªworkerã€‚</h3>
<blockquote>
<img src="https://pic.rmb.bdstatic.com/bjh/048ba44295646426b3250633ef4f3899.png" alt="image.png" title="image.png" />
</blockquote>
</blockquote>
<blockquote>
<h3 id="2-è¿›å…¥workerç¼–è¾‘ç•Œé¢è¾“å…¥ä¸‹é¢ä»£ç åç‚¹å‡»å®‰è£…éƒ¨ç½²">2ã€è¿›å…¥workerç¼–è¾‘ç•Œé¢ï¼Œè¾“å…¥ä¸‹é¢ä»£ç åï¼Œç‚¹å‡»å®‰è£…éƒ¨ç½²ã€‚</h3>
<blockquote>
<pre><code class="language-JavaScript">const whitelist = [&quot;/bot1811111111:&quot;];
const tg_host = &quot;api.telegram.org&quot;;
addEventListener('fetch', event =&gt; {
   event.respondWith(handleRequest(event.request))
})
function validate(path) {
   for (var i = 0; i &lt; whitelist.length; i++) {
       if (path.startsWith(whitelist[i]))
           return true;
   }
   return false;
}
async function handleRequest(request) {
   var u = new URL(request.url);
   u.host = tg_host;
   if (!validate(u.pathname))
       return new Response('Unauthorized', {
           status: 403
       });
   var req = new Request(u, {
       method: request.method,
       headers: request.headers,
       body: request.body
   });
   const result = await fetch(req);
   return result;
} 
</code></pre>
<img src="https://pic.rmb.bdstatic.com/bjh/f0918c8c38652580fd750bfbd1052ef9.png" alt="image.png" title="image.png" />
</blockquote>
</blockquote>
<h2 id="å››-æµ‹è¯•åä»£æˆåŠŸæ²¡">å››ã€æµ‹è¯•åä»£æˆåŠŸæ²¡</h2>
<h3 id="1-æµ‹è¯•å‰çš„å‡†å¤‡">1ã€æµ‹è¯•å‰çš„å‡†å¤‡</h3>
<blockquote>
<h4 id="è·å–ç”¨æˆ·id">è·å–ç”¨æˆ·id:</h4>
<blockquote>
<p>tgæœç´¢ @userinfobotï¼Œå…³æ³¨ä¸€ä¸ªå…³æ³¨é‡è¾ƒå¤šå¤´åƒæœ‰é—®å·çš„å³å¯ã€‚<br>
<img src="https://pic.rmb.bdstatic.com/bjh/c6a29dc1490659e4cc3948ac8d8549ea.png" alt="image.png" title="image.png" /></p>
</blockquote>
</blockquote>
<h3 id="å¼€å§‹æµ‹è¯•">å¼€å§‹æµ‹è¯•</h3>
<blockquote>
<p>è®¾ç½®æˆåŠŸåå³å¯é€šè¿‡ <code>https://xxxxx.xxx.workers.dev</code> æ¨é€ç‰¹å®šä¿¡æ¯ç»™ç‰¹å®šçš„ç”¨æˆ·æˆ–ç¾¤ç»„ï¼Œé“¾æ¥ä¸ºworkerçš„é“¾æ¥åœ°å€<br>
å¯ä»¥é€šè¿‡<code>https://xxxxx.xxx.workers.dev/bot88888:aaaaa/sendMessage?chat_id=7777&amp;text=yyyy</code> æµ‹è¯•ï¼Œå¦‚æœé…ç½®æ­£å¸¸å°†èƒ½æ”¶åˆ°æ¨é€ä¿¡æ¯ã€‚<br>
å°†ä»£ç ä¸­çš„88888:aaaaaæ”¹ä¸ºè‡ªå·±æœºå™¨äººçš„tokenï¼Œ777æ”¹ä¸ºå¯¹è¯ç”¨æˆ·idï¼Œyyyyyæ”¹ä¸ºè¦å‘é€çš„æ–‡æœ¬ã€‚<br>
æµ‹è¯•æˆåŠŸçš„å›¾ç‰‡ï¼š</p>
<blockquote>
<blockquote>
<img src="https://pic.rmb.bdstatic.com/bjh/9e7bcfd50447643e5ac99c85d6dc9098.png" alt="image.png" title="image.png" />
<img src="https://pic.rmb.bdstatic.com/bjh/e325ac52178be48abf333b3e2bd3fc33.png" alt="image.png" title="image.png" />
</blockquote>
</blockquote>
</blockquote>
<p>æœ¬æ–‡å‚è€ƒï¼šhttps://www.kejiwanjia.com/jiaocheng/server/5221.html#3worker</p>
 </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 animate-box">
                        
                            <div class="next-post">
                                <div class="next">ä¸‹ä¸€ç¯‡</div>
                                <a href="https://2523615279.github.io/post/zhong-qing-kan-dian/">
                                    <h3 class="post-title">
                                        ä¸­é’çœ‹ç‚¹
                                    </h3>
                                </a>
                            </div>
                        
                    </div>
                </div>

                <div class="row">
    <div class="col-md-12 animate-box">
        
    </div>
</div>

            </div>

        </article>
    </div>
</div>

    

    <!-- è¿”å›é¡¶éƒ¨ -->
    <div class="back-to-top">
    
        <a href="#!" id="tool-toc" class="hidden-xs hidden-sm">
            <i class="fa fa-map"></i>
        </a>
        <br>
    
    <a href="#top" class="hidden-xs hidden-sm"><i class="fa fa-paper-plane"></i></a>
</div>

<div class="post-toc animated fadeInRight hidden-xs hidden-sm" style="display: none;">
    <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%BC%80%E5%A7%8B%E5%89%8D%E7%9A%84%E5%87%86%E5%A4%87">å¼€å§‹å‰çš„å‡†å¤‡</a>
<ul>
<li><a href="#%E4%B8%80-%E6%B3%A8%E5%86%8C%E4%B8%80%E4%B8%AAtg%E6%9C%BA%E5%99%A8%E4%BA%BA">ä¸€ã€æ³¨å†Œä¸€ä¸ªTGæœºå™¨äºº</a></li>
</ul>
</li>
<li><a href="#%E4%B8%80-%E6%B3%A8%E5%86%8Ccloudflare">ä¸€ã€æ³¨å†ŒCloudFlare</a></li>
<li><a href="#%E4%BA%8C-%E7%99%BB%E5%BD%95%E5%90%AF%E7%94%A8cloudflare-worker">äºŒã€ç™»å½•å¯ç”¨CloudFlare Worker</a>
<ul>
<li><a href="#1-%E7%99%BB%E5%BD%95cloudflare%E5%90%8E%E5%9C%A8%E5%B7%A6%E4%B8%8A%E8%A7%92%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%E4%B8%AD%E6%89%BE%E5%88%B0-workers">1ã€ç™»å½•cloudflareåï¼Œåœ¨å·¦ä¸Šè§’ä¸‹æ‹‰èœå•ä¸­æ‰¾åˆ° workersã€‚</a></li>
<li><a href="#2-%E8%AE%BE%E7%BD%AE%E4%B8%80%E4%B8%AA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E5%AD%90%E5%9F%9F">2ã€è®¾ç½®ä¸€ä¸ªè‡ªå®šä¹‰çš„å­åŸŸ</a></li>
<li><a href="#3-%E6%A0%B9%E6%8D%AE%E8%87%AA%E8%BA%AB%E6%83%85%E5%86%B5%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E8%AE%A1%E5%88%92%E6%88%91%E8%BF%99%E8%BE%B9%E5%85%8D%E8%B4%B9%E7%9A%84%E5%B0%B1%E5%A4%9F%E7%94%A8%E4%BA%86">3ã€æ ¹æ®è‡ªèº«æƒ…å†µé€‰æ‹©åˆé€‚çš„è®¡åˆ’ï¼Œæˆ‘è¿™è¾¹å…è´¹çš„å°±å¤Ÿç”¨äº†ã€‚</a></li>
</ul>
</li>
<li><a href="#%E4%B8%89-%E9%85%8D%E7%BD%AEworker">ä¸‰ã€é…ç½®worker</a>
<ul>
<li><a href="#1-%E7%82%B9%E5%87%BB%E7%A1%AE%E8%AE%A4%E8%AE%A1%E5%88%92%E5%90%8E%E5%8D%B3%E5%8F%AF%E8%BF%9B%E5%85%A5cf%E7%9A%84workers%E5%90%8E%E5%8F%B0%E7%82%B9%E5%87%BB-%E5%88%9B%E5%BB%BAworker-%E6%8C%89%E9%92%AE%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AAworker">1ã€ç‚¹å‡»ç¡®è®¤è®¡åˆ’åï¼Œå³å¯è¿›å…¥cfçš„workersåå°ï¼Œç‚¹å‡» åˆ›å»ºworker æŒ‰é’®ï¼Œæ–°å»ºä¸€ä¸ªworkerã€‚</a></li>
<li><a href="#2-%E8%BF%9B%E5%85%A5worker%E7%BC%96%E8%BE%91%E7%95%8C%E9%9D%A2%E8%BE%93%E5%85%A5%E4%B8%8B%E9%9D%A2%E4%BB%A3%E7%A0%81%E5%90%8E%E7%82%B9%E5%87%BB%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2">2ã€è¿›å…¥workerç¼–è¾‘ç•Œé¢ï¼Œè¾“å…¥ä¸‹é¢ä»£ç åï¼Œç‚¹å‡»å®‰è£…éƒ¨ç½²ã€‚</a></li>
</ul>
</li>
<li><a href="#%E5%9B%9B-%E6%B5%8B%E8%AF%95%E5%8F%8D%E4%BB%A3%E6%88%90%E5%8A%9F%E6%B2%A1">å››ã€æµ‹è¯•åä»£æˆåŠŸæ²¡</a>
<ul>
<li><a href="#1-%E6%B5%8B%E8%AF%95%E5%89%8D%E7%9A%84%E5%87%86%E5%A4%87">1ã€æµ‹è¯•å‰çš„å‡†å¤‡</a>
<ul>
<li><a href="#%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7id">è·å–ç”¨æˆ·id:</a></li>
</ul>
</li>
<li><a href="#%E5%BC%80%E5%A7%8B%E6%B5%8B%E8%AF%95">å¼€å§‹æµ‹è¯•</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>


    
<footer id="fh5co-footer">
  <p>Powered by <a href="https://moxianbaobbs.top/" target="_blank">é­”ä»™å ¡</a></p>
</footer>


    <!-- jQuery -->
<script src="https://2523615279.github.io//media/scripts/jquery.min.js"></script>
<!-- img lazy load -->
<script src="https://2523615279.github.io//media/scripts/jquery.lazyload.min.js"></script>
<!-- jQuery Easing -->
<script src="https://2523615279.github.io//media/scripts/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://2523615279.github.io//media/scripts/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://2523615279.github.io//media/scripts/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://2523615279.github.io//media/scripts/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://2523615279.github.io//media/scripts/md5.min.js"></script>
<!-- katex -->
<!--<script src="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.js"></script>-->
<!-- highlight -->
<script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>


<script type="application/javascript">
    // ä»£ç é«˜äº®
    hljs.initHighlightingOnLoad();

    // img æ‡’åŠ è½½
    $(function () {
        $("img.lazy").lazyload({
            effect: "fadeIn",  // æ‡’åŠ è½½åŠ¨ç”»
            threshold: 180  // åœ¨å›¾ç‰‡è·ç¦»å±å¹•180pxæ—¶æå‰è½½å…¥
        });
        // tooltip
        $('[data-toggle="tooltip"]').tooltip();

        // ç›®å½•
        $('#tool-toc').click(function () {
            $('.post-toc').toggle();
        });
    });

    
</script>




</body>
</html>
